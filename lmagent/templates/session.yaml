# Session State Template
# LMAgent Framework v3.0 - Persistent Context System
#
# Este archivo mantiene el estado del proyecto para que el agente NUNCA
# pierda el contexto, incluso en proyectos grandes con mÃºltiples sesiones.
#
# UBICACIÃ“N: .lmagent/session.yaml (en el proyecto del usuario)
#
# ğŸ¤– AGENTE: Lee este archivo AL INICIO de cada sesiÃ³n de trabajo.
#           ActualÃ­zalo DESPUÃ‰S de cada milestone completado.

---
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                         ESTADO DEL PROYECTO
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

project:
  name: "[nombre del proyecto]"
  created_at: "[YYYY-MM-DD]"
  last_updated: "[YYYY-MM-DD HH:MM]"
  current_phase: specify  # specify | plan | tasks | implement | verify | done

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                         PROGRESO DEL SPEC WORKFLOW
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

spec_workflow:
  phase_1_specify:
    status: pending  # pending | in_progress | review | approved | completed
    artifact: null  # specs/[project]/spec.yaml
    approved_at: null
    approved_by: null
    
  phase_2_plan:
    status: pending
    artifact: null  # specs/[project]/plan.yaml
    approved_at: null
    approved_by: null
    
  phase_3_tasks:
    status: pending
    artifact: null  # specs/[project]/tasks.yaml
    
  phase_4_implement:
    status: pending
    current_task_id: null  # T001, T002, etc.
    completed_tasks: []
    blocked_tasks: []
    
  phase_5_verify:
    status: pending
    tests_passing: null
    coverage: null
    issues_found: []

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                         CONTEXTO ACTUAL
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

current_context:
  # Â¿QuÃ© estaba haciendo el agente?
  last_action: "[DescripciÃ³n de la Ãºltima acciÃ³n]"
  
  # Â¿En quÃ© archivo estaba trabajando?
  last_file: null
  
  # Â¿QuÃ© persona estaba activa?
  active_persona: null  # /pm, /arch, /dev, /qa, etc.
  
  # Â¿Hay algo pendiente de aprobaciÃ³n del usuario?
  awaiting_user_input: false
  pending_question: null

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                         HISTORIAL DE SESIONES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

sessions:
  - session_id: 1
    started_at: "[timestamp]"
    ended_at: "[timestamp]"
    summary: "[QuÃ© se logrÃ³ en esta sesiÃ³n]"
    next_steps: "[QuÃ© falta hacer]"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                         DECISIONES IMPORTANTES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

decisions:
  - id: "D001"
    date: "[YYYY-MM-DD]"
    decision: "[QuÃ© se decidiÃ³]"
    rationale: "[Por quÃ©]"
    # Esto ayuda al agente a recordar decisiones pasadas

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                         BLOQUEOS Y ISSUES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

blockers:
  - id: "B001"
    description: "[DescripciÃ³n del bloqueo]"
    status: open  # open | resolved
    created_at: null
    resolved_at: null

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                    INSTRUCCIONES PARA EL AGENTE
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# ğŸ¤– AGENTE: AL INICIO DE CADA SESIÃ“N:
#
# 1. Lee este archivo completo
# 2. Identifica current_phase y current_context
# 3. Resume desde donde quedaste
# 4. Si awaiting_user_input es true, pregunta al usuario primero
#
# ğŸ¤– AGENTE: AL FINALIZAR TRABAJO O CAMBIAR DE TAREA:
#
# 1. Actualiza current_context con tu Ãºltima acciÃ³n
# 2. Actualiza el status de la fase actual
# 3. Si completaste una task, agrÃ©gala a completed_tasks
# 4. Guarda este archivo
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
